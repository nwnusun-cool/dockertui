## MVP 详细任务清单（本地 Docker + docker-compose + 容器列表 + 日志 + exec）

> 说明：每个任务和子任务都是一个清单项，带有数字 ID、简要上下文和依赖的任务 ID，方便开发者按依赖顺序实施。

---

### 阶段 A：需求与架构收敛（T 系列）

- [√] **1 T1：锁定 MVP 范围与用例**  
  说明：从整体 PRD 中收敛出当前阶段仅实现“本地 Docker + 本地 docker-compose + 容器列表 + 日志 + exec + compose 项目管理”的范围，确保团队共识一致。  
  依赖：无
  - [√] **1.1 T1.1：整理与 MVP 相关的需求说明**  
    说明：从 PRD 中提取与本地 Docker、本地 docker-compose、容器列表、日志、exec 相关部分，整理成 1 页简版 MVP 说明（不含多主机、Playbook 等远期扩展）。  
    依赖：1
  - [√] **1.2 T1.2：列出 MVP 的核心用例列表**  
    说明：形成用例列表，如“查看容器列表”“查看容器详情”“查看/跟随日志”“进入容器 shell 并退出后返回工具”“扫描 & 管理 docker-compose 项目”等，为后续设计提供输入。  
    依赖：1

- [√] **2 T2：确定技术栈细节**  
  说明：为 MVP 锁定具体技术栈（Go 版本、TUI 框架、Docker SDK、docker-compose 调用方式），避免中途切换技术方案。  
  依赖：1
  - [√] **2.1 T2.1：确定 TUI 框架（Bubble Tea 或 tcell）**  
    说明：评估 Bubble Tea 与 tcell，确认首版使用 Bubble Tea（配合 bubbles/lipgloss），记录选择理由。  
    依赖：2
  - [√] **2.2 T2.2：确定 Docker 接口（官方 Go SDK / Docker Engine API）**  
    说明：选择使用官方 Docker Go SDK 或直接调用 HTTP API，考虑到本地环境（Windows + Docker Desktop）的兼容性。  
    依赖：2
  - [√] **2.3 T2.3：确定 docker-compose 集成方式**  
    说明：决定使用 `docker compose` 还是 `docker-compose` CLI 进行集成，并明确通过 `os/exec` 调用 CLI 的基本策略。  
    依赖：2

- [√] **3 T3：模块边界设计**  
  说明：在实现前明确 `internal/ui`、`internal/docker`、`internal/config` 等模块的职责和依赖关系，并预留 docker-compose 支持位置。  
  依赖：1, 2
  - [√] **3.1 T3.1：绘制简化架构图**  
    说明：画出包含 UI 层、Docker 客户端层、配置层、docker-compose 封装的简化架构图（可用 markdown 或简单注释），用于沟通与后续扩展。  
    依赖：3
  - [√] **3.2 T3.2：明确模块职责与依赖**  
    说明：用文字说明每个模块负责的内容以及谁可以依赖谁（例如 `internal/ui` 只能通过接口使用 `internal/docker` 和 compose 封装）。  
    依赖：3

---

### 阶段 B：项目基础设施与依赖（B 系列）

- [√] **4 B1：项目骨架确认与整理**  
  说明：确保项目结构符合预期，入口文件和 internal 目录结构清晰可用。  
  依赖：3
  - [√] **4.1 B1.1：检查 go.mod module 名**  
    说明：确认 `go.mod` 中的 module 名是否符合将来托管路径（例如 `github.com/yourname/docktui`），避免后期大规模重构导入路径。  
    依赖：4
  - [√] **4.2 B1.2：检查 main.go 入口结构**  
    说明：确认 `cmd/docktui/main.go` 已预留 TUI 初始化位置，并删除不必要的示例代码。  
    依赖：4
  - [√] **4.3 B1.3：确认目录结构完整性**  
    说明：检查 `internal/ui`、`internal/docker`、`internal/config` 是否已创建，并符合架构设计。  
    依赖：4

- [√] **5 B2：依赖管理**  
  说明：引入并锁定 TUI 框架与 Docker SDK 依赖，确保构建环境稳定。  
  依赖：2
  - [√] **5.1 B2.1：添加 TUI 框架依赖**  
    说明：在 `go.mod` 中添加 Bubble Tea 等 TUI 依赖，保证能编译基础 TUI 示例。  
    依赖：5
  - [√] **5.2 B2.2：添加 Docker SDK 依赖**  
    说明：在 `go.mod` 中添加 Docker Go SDK 相关依赖，为后续 Docker 客户端封装做准备。  
    依赖：5
  - [√] **5.3 B2.3：执行 go mod tidy**  
    说明：运行 `go mod tidy`，确保依赖与 go.sum 一致，并验证项目可正常构建。  
    依赖：5

- [√] **6 B3：基础工具与配置**  
  说明：实现最简配置加载能力（例如本地 Docker endpoint 配置），为 Docker 客户端和后续 compose 封装提供配置来源。  
  依赖：4, 5
  - [√] **6.1 B3.1：设计配置结构体**  
    说明：在 `internal/config` 中定义配置 struct（如 Docker 主机地址、超时设置、docker-compose 相关配置），预留扩展空间。  
    依赖：6
  - [√] **6.2 B3.2：实现配置加载逻辑**  
    说明：实现从环境变量或默认值加载配置的函数，确保在本地未配置时也能正常运行。  
    依赖：6
  - [√] **6.3 B3.3：在 main 中集成配置加载**  
    说明：在 `cmd/docktui/main.go` 中调用配置加载函数，并在出错时给出清晰错误信息。  
    依赖：6

---

### 阶段 C：Docker 客户端层（D 系列）

- [√] **7 D1：Docker SDK 调研与最小可行 demo**  
  说明：验证在当前系统（Windows + Docker Desktop）下可以正常通过 Go 代码访问本地 Docker。  
  依赖：6
  - [√] **7.1 D1.1：编写连接 Docker 并打印版本的 demo**  
    说明：编写一个临时代码，连接本地 Docker 并调用 `docker version` 或等价 API，确认通信正常。  
    依赖：7
  - [√] **7.2 D1.2：确认 Windows 环境下 endpoint 配置**  
    说明：验证使用 named pipe 或 TCP endpoint 的配置方式，并记录在文档或注释中。  
    依赖：7

- [√] **8 D2：Docker 客户端封装基础**  
  说明：在 `internal/docker` 中为 Docker 操作提供一个统一的接口层，屏蔽底层 SDK 细节。  
  依赖：7
  - [√] **8.1 D2.1：定义 Docker Client 接口**  
    说明：在 `internal/docker` 中定义包含 `ListContainers`、`ContainerDetails`、`ContainerLogs`、`ExecShell` 等方法的接口。  
    依赖：8
  - [√] **8.2 D2.2：实现本地 localClient 结构**  
    说明：实现针对本地 Docker 的 `localClient`，内部保存 SDK client，并实现接口方法的空壳或基础逻辑。  
    依赖：8
  - [√] **8.3 D2.3：在 main 中初始化 Docker Client**  
    说明：在 `cmd/docktui/main.go` 中根据配置创建 `docker.Client` 实例，验证可以成功创建。  
    依赖：8

- [√] **9 D3：容器列表 API**  
  说明：实现获取本地容器列表的 API，供容器列表视图使用。  
  依赖：8
  - [√] **9.1 D3.1：实现 ListContainers 方法**  
    说明：调用 Docker SDK 获取容器列表，并转换为内部 `Container` 结构（ID、Name、Image、State、Status 等）。  
    依赖：9
  - [√] **9.2 D3.2：为 ListContainers 编写基础测试**  
    说明：使用接口 mock 或假数据编写单元测试，确保列表转换逻辑正确。  
    依赖：9

- [√] **10 D4：容器详情 API**  
  说明：提供按容器 ID 获取详细信息的接口，用于详情视图。  
  依赖：8
  - [√] **10.1 D4.1：定义 ContainerDetails 返回结构**  
    说明：定义包含挂载、端口、环境变量等字段的详情结构体。  
    依赖：10
  - [√] **10.2 D4.2：实现 ContainerDetails 调用**  
    说明：封装 Docker SDK 的 inspect 调用，填充详情结构体。  
    依赖：10

- [√] **11 D5：日志 API**  
  说明：提供容器日志的读取能力，支持一次性获取和 follow 模式。  
  依赖：8
  - [√] **11.1 D5.1：设计日志读取接口**  
    说明：在 Docker Client 接口中定义获取最近 N 行日志和 follow 模式的函数签名。  
    依赖：11
  - [√] **11.2 D5.2：实现日志读取与取消逻辑**  
    说明：实现底层 logs 调用，使用 context 控制超时与取消，保证退出日志视图时能中断读取。  
    依赖：11

- [√] **12 D6：exec shell API**  
  说明：提供在容器内启动交互式 shell 的能力，为后续 TUI 集成做准备。  
  依赖：8
  - [√] **12.1 D6.1：调研 exec/attach 使用方式**  
    说明：阅读 Docker SDK 关于 exec/attach 的示例，明确如何在终端中进行交互式命令执行。  
    依赖：12
  - [√] **12.2 D6.2：实现 ExecShell 方法**  
    说明：在 Docker Client 中实现 `ExecShell`，支持传入容器 ID 和默认 shell 命令。  
    依赖：12

---

### 阶段 D：TUI 框架与主界面（U 系列）

- [√] **13 U1：TUI 程序入口搭建**  
  说明：在 main 中集成 Bubble Tea，形成可运行的基础 TUI 程序入口。  
  依赖：5, 6
  - [√] **13.1 U1.1：创建基础 Model 结构**  
    说明：在 `internal/ui` 中定义主 Model，包含当前视图、全局状态占位等字段。  
    依赖：13
  - [√] **13.2 U1.2：在 main 中启动 Bubble Tea Program**  
    说明：在 `cmd/docktui/main.go` 中使用 `tea.NewProgram` 启动主 Model，并处理启动错误。  
    依赖：13
  - [√] **13.3 U1.3：实现最小 Init/Update/View**  
    说明：实现一个简单界面（如显示欢迎文案，按 q 退出），验证 TUI 主循环工作正常。  
    依赖：13

- [√] **14 U2：全局状态与键盘映射**  
  说明：为全局 TUI 定义状态结构和常用快捷键（退出、切换视图等）。  
  依赖：13
  - [√] **14.1 U2.1：定义全局状态结构体**  
    说明：在 `internal/ui` 中定义保存当前视图、选中容器 ID 等信息的全局 state。  
    依赖：14
  - [√] **14.2 U2.2：设计并实现全局快捷键**  
    说明：在 `Update` 中添加对 `q`、`ctrl+c`、视图切换键（如 `c`、`l` 等）的处理逻辑。  
    依赖：14
  - [√] **14.3 U2.3：为全局状态增加基础错误显示字段**  
    说明：为后续统一错误展示预留字段（如 `errorMsg`），并在 View 中占位。  
    依赖：14

- [√] **15 U3：视图管理框架**  
  说明：抽象不同视图（列表、详情、日志）之间的切换机制。  
  依赖：14, 8
  - [√] **15.1 U3.1：定义 View 接口或抽象**  
    说明：为各视图定义统一接口（如 `Init`, `Update`, `View`），便于主 Model 调度。  
    依赖：15
  - [√] **15.2 U3.2：为列表/详情/日志视图创建空实现**  
    说明：在 `internal/ui` 中为三个视图创建基础 struct 和空方法，实现编译通过。  
    依赖：15
  - [√] **15.3 U3.3：在主 Model 中集成视图切换逻辑**  
    说明：根据当前视图类型调用对应视图的 Update/View，实现简单的视图切换。  
    依赖：15

---

### 阶段 E：容器列表视图（L 系列）

- [√] **16 L1：数据结构与 UI 布局**  
  说明：为容器列表视图设计内部数据模型和基本布局。  
  依赖：15, 9
  - [√] **16.1 L1.1：定义 ContainerListModel**  
    说明：在 `internal/ui` 中定义保存容器列表、选中索引、加载状态、错误信息的 struct。  
    依赖：16
  - [√] **16.2 L1.2：设计列表行布局**  
    说明：决定每行展示哪些字段（如 Name、Image、State、Status），并实现基础渲染。  
    依赖：16

- [√] **17 L2：数据加载与刷新**  
  说明：实现列表数据的首次加载与自动刷新。  
  依赖：16, 9
  - [√] **17.1 L2.1：在 Init 中加载容器列表**  
    说明：在列表视图初始化时调用 `docker.Client.ListContainers` 填充数据。  
    依赖：17
  - [√] **17.2 L2.2：实现自动刷新功能**  
    说明：采用自动定时刷新（默认3秒），支持通过快捷键 `a` 切换自动刷新开关，并显示刷新状态和上次刷新时间。  
    依赖：17
  - [√] **17.3 L2.3：处理加载中的状态显示**  
    说明：在加载过程展示 loading 文案，并在失败时通过全局错误区域提示。  
    依赖：17

- [√] **18 L3：列表交互**  
  说明：让用户可以在列表中移动选中项并跳转到详情视图。  
  依赖：17, 20
  - [√] **18.1 L3.1：实现上下移动选中逻辑**  
    说明：支持 `j/k` 或方向键移动选中行，保证边界安全处理。  
    依赖：18
  - [√] **18.2 L3.2：实现 Enter 跳转容器详情视图**  
    说明：在按下 Enter 时，将选中容器 ID 传递给详情视图并切换当前视图。  
    依赖：18

- [x] **19 L4：列表过滤与排序**  
  说明：提供基本过滤功能（如只看 running 容器）和可选的简单排序。  
  依赖：17
  - [x] **19.1 L4.1：实现按状态过滤**  
    说明：添加过滤条件（如 running、exited），通过快捷键或简单输入控制。  
    依赖：19
  - [x] **19.2 L4.2：实现按名称模糊搜索**  
    说明：支持用户输入关键字过滤容器名称，简化查找。  
    依赖：19

---

### 阶段 F：容器详情视图（V 系列）

- [x] **20 V1：详情数据结构与布局**  
  说明：为容器详情视图设计数据模型和展示布局。  
  依赖：15, 10
  - [x] **20.1 V1.1：定义 ContainerDetailModel**  
    说明：包含容器 ID、详情数据、加载状态、错误信息等字段。  
    依赖：20
  - [x] **20.2 V1.2：设计详情布局**  
    说明：将基础信息、端口、挂载、环境变量等分区展示，避免信息过于拥挤。  
    依赖：20

- [x] **21 V2：数据加载**  
  说明：实现详情视图的实际数据拉取逻辑。  
  依赖：20, 10
  - [x] **21.1 V2.1：在初始化时调用 ContainerDetails**  
    说明：在进入详情视图时调用 Docker 客户端获取详情数据并更新视图。  
    依赖：21
  - [x] **21.2 V2.2：处理加载失败和空状态**  
    说明：当容器已停止或不存在时，给出清晰提示并允许返回列表。  
    依赖：21

- [x] **22 V3：视图切换逻辑**  
  说明：实现详情视图与列表视图之间的返回与跳转。  
  依赖：20, 18
  - [x] **22.1 V3.1：从列表视图初始化详情 model**  
    说明：确保从列表视图跳转时正确传入容器 ID 并创建新的详情 model。  
    依赖：22
  - [x] **22.2 V3.2：实现返回列表的快捷键**  
    说明：在详情视图中通过 `Esc` 或 `b` 返回列表视图。  
    依赖：22

---

### 阶段 G：日志视图（G 系列）

- [✓] **23 G1：日志视图模型设计**  
  说明：为日志视图设计数据模型与布局。  
  依赖：15, 11
  - [✓] **23.1 G1.1：定义 LogViewModel**  
    说明：包括容器 ID、日志缓冲区、是否 follow、滚动位置等字段。  
    依赖：23
  - [✓] **23.2 G1.2：设计日志布局**  
    说明：顶部显示容器名/模式，中间滚动日志区域，底部显示快捷键提示。  
    依赖：23

- [✓] **24 G2：一次性日志加载**  
  说明：支持获取并展示最近 N 行日志。  
  依赖：23, 11
  - [✓] **24.1 G2.1：调用日志 API 获取最近 N 行**  
    说明：在日志视图初始化时调用 Docker 日志 API 获取最近 N 行记录。  
    依赖：24
  - [✓] **24.2 G2.2：实现日志滚动显示**  
    说明：支持通过快捷键上下滚动查看日志内容。  
    依赖：24

- [✓] **25 G3：follow 模式**  
  说明：支持实时跟随日志输出，类似 `docker logs -f`。  
  依赖：24
  - [✓] **25.1 G3.1：设计 follow 模式消息通道**  
    说明：使用 goroutine + channel 或 tea.Cmd 实现日志行向 UI 的推送。  
    依赖：25
  - [✓] **25.2 G3.2：实现开启/关闭 follow 的快捷键**  
    说明：添加 `f` 切换 follow 模式的逻辑。  
    依赖：25
  - [✓] **25.3 G3.3：处理容器停止或日志终止**  
    说明：在容器停止或日志流结束时给出提示，并自动退出 follow 模式。  
    依赖：25

- [✓] **26 G4：与其他视图集成**  
  说明：实现从列表/详情视图进入日志视图及返回的流程。  
  依赖：18, 22, 24
  - [✓] **26.1 G4.1：在列表视图中添加打开日志的快捷键**  
    说明：在列表中为选中容器添加 `l` 打开日志视图的逻辑。  
    依赖：26
  - [✓] **26.2 G4.2：在日志视图中实现返回逻辑**  
    说明：通过 `Esc` 或 `b` 返回之前的视图（列表或详情）。  
    依赖：26

---

### 阶段 H：容器 exec 交互式 shell（E 系列）

- [✓] **27 E1：交互策略设计**  
  说明：决定 exec shell 的用户体验模式（退出 TUI 后进入 shell，或在 TUI 内嵌）。  
  依赖：12, 15
  - [✓] **27.1 E1.1：评估两种交互方案的利弊**  
    说明：比较内嵌 shell 与暂时退出 TUI 的复杂度和可维护性，MVP 建议选择退出 TUI 模式。  
    依赖：27
  - [✓] **27.2 E1.2：设计用户交互流程**  
    说明：明确用户从列表/详情视图按 `s` 后的流程，包括提示、进入 shell、返回工具。  
    依赖：27

- [✓] **28 E2：ExecShell 调用实现**  
  说明：基于 Docker 客户端实现实际的 exec shell 调用。  
  依赖：12
  - [✓] **28.1 E2.1：在 Docker Client 中实现 ExecShell**  
    说明：完成 `ExecShell` 方法对 Docker SDK 的封装，处理命令和 IO 流。  
    依赖：28
  - [✓] **28.2 E2.2：处理 Windows 与容器 shell 兼容性**  
    说明：考虑容器中没有 `/bin/bash` 的情况，优先尝试 `/bin/sh` 或通过配置指定。  
    依赖：28

- [✓] **29 E3：TUI 与 exec 集成**  
  说明：在 TUI 中提供进入容器 shell 的快捷方式，并处理返回逻辑。  
  依赖：27, 28, 18, 22
  - [✓] **29.1 E3.1：在列表/详情视图中添加 exec 快捷键**  
    说明：为当前选中容器添加 `s` 启动 exec shell 的逻辑。  
    依赖：29
  - [✓] **29.2 E3.2：实现 TUI 与 shell 之间的模式切换**  
    说明：实现退出 TUI → 进入 shell → 退出 shell 后重新启动 TUI 的流程。  
    依赖：29
  - [✓] **29.3 E3.3：处理 exec 失败时的错误提示**  
    说明：在 exec 失败（容器不存在等）时通过全局错误区域提示用户。  
    依赖：29

---

### 阶段 H2：容器操作功能（O 系列）

- [✓] **30 O1：基础容器生命周期操作**  
  说明：实现容器的启动、停止、重启等基本操作。  
  依赖：9, 18
  - [✓] **30.1 O1.1：在 Docker Client 中实现操作方法**  
    说明：封装 Start、Stop、Restart 方法，处理错误和超时。  
    依赖：30
  - [✓] **30.2 O1.2：在容器列表视图添加操作快捷键**  
    说明：添加快捷键 `t`(Start)、`p`(Stop)、`R`(Restart)，仅对选中容器生效。  
    依赖：30
  - [✓] **30.3 O1.3：实现操作状态提示**  
    说明：操作执行时显示 loading 状态，完成后显示成功/失败消息，并自动刷新列表。  
    依赖：30

- [✓] **31 O2：容器删除操作**  
  说明：实现容器删除功能，包含确认对话框和批量删除。  
  依赖：30
  - [✓] **31.1 O2.1：实现 Remove 方法**  
    说明：在 Docker Client 中实现 Remove 方法，支持强制删除和删除关联卷。  
    依赖：31
  - [✓] **31.2 O2.2：实现确认对话框**  
    说明：删除前显示确认对话框，显示容器名称和警告信息，支持 y/ESC 确认/取消。  
    依赖：31
  - [✓] **31.3 O2.3：添加删除快捷键**  
    说明：在容器列表添加 `Ctrl+D` 快捷键触发删除，仅对已停止的容器生效。  
    依赖：31
---

### 阶段 I：健壮性与用户体验（R 系列）

- [✓] **32 R0：TUI 颜色自适应终端主题**  
  说明：解决 TUI 在不同终端背景色（亮色/暗色）下的显示问题。  
  依赖：13, 15
  - [✓] **32.1 R0.1：移除硬编码背景色**  
    说明：删除所有固定的背景色设置（如 `Background(lipgloss.Color("235"))`），让终端使用默认背景。  
    依赖：32
  - [✓] **32.2 R0.2：使用 Reverse 实现选中效果**  
    说明：表格选中行、按钮选中状态改用 `Reverse(true)`，自动反转终端前景/背景色，适配亮色和暗色终端。  
    依赖：32
  - [✓] **32.3 R0.3：只设置前景色**  
    说明：大部分样式只设置 `Foreground` 颜色，让终端使用默认背景，避免颜色冲突。  
    依赖：32
  - [✓] **32.4 R0.4：使用边框区分区域**  
    说明：卡片、对话框等使用边框来区分，而不是背景色差异。  
    依赖：32
  - [✓] **32.5 R0.5：简化 fillBackground 函数**  
    说明：`fillBackground()` 只负责填充空格保证行宽一致，不再强制设置背景色。  
    依赖：32

- [ ] **33 R1：错误处理与提示统一**  
  说明：统一项目中错误的封装与展示方式。  
  依赖：9, 10, 11, 12, 15
  - [ ] **33.1 R1.1：设计统一错误类型或包装函数**  
    说明：抽象网络错误、容器不存在等常见错误类型。  
    依赖：33
  - [ ] **33.2 R1.2：实现全局错误展示区域**  
    说明：在 UI 中预留底部 status bar 或提示区域，显示最近错误信息。  
    依赖：33
  - [ ] **33.3 R1.3：在关键路径中接入错误展示**  
    说明：在列表加载、详情加载、日志加载、exec 入口处统一调用错误展示逻辑。  
    依赖：33

- [✓] **34 R2：加载状态与空状态**  
  说明：提升在数据加载和无数据时的用户体验。  
  依赖：17, 21, 24
  - [✓] **34.1 R2.1：为各视图添加 loading 状态**  
    说明：在容器列表、详情、日志视图中增加加载中的视觉提示。  
    依赖：34
  - [✓] **34.2 R2.2：设计友好的空状态文案**  
    说明：在无容器、无日志等情况下展示说明性文本，而不是空白屏。  
    依赖：34

- [ ] **35 R3：性能与资源释放**  
  说明：避免 goroutine 泄漏和不必要的资源占用。  
  依赖：25, 13
  - [ ] **35.1 R3.1：确保日志 follow goroutine 正常退出**  
    说明：在离开日志视图或退出程序时，正确关闭 follow goroutine 和日志流。  
    依赖：35
  - [ ] **35.2 R3.2：确保 Docker Client 正常释放**  
    说明：在程序退出时关闭 Docker 客户端连接或相关资源。  
    依赖：35
  - [ ] **35.3 R3.3：验证频繁刷新下的资源占用**  
    说明：在本地环境压测频繁刷新列表场景，观察 CPU/内存占用并做必要优化。  
    依赖：35

---

### 阶段 J：打包与文档（P 系列）

- [ ] **36 P1：构建与运行脚本**  
  说明：简化在不同机器上编译和运行项目的流程。  
  依赖：5
  - [ ] **36.1 P1.1：编写构建脚本**  
    说明：为常用平台（至少当前开发环境）编写简单构建脚本（如 PowerShell 或 Makefile）。  
    依赖：36
  - [ ] **36.2 P1.2：验证本地二进制运行**  
    说明：使用构建脚本编译并在 Windows 环境运行，确认无基础错误。  
    依赖：36

- [ ] **37 P2：使用说明**  
  说明：为自己和潜在团队成员提供简要使用文档。  
  依赖：18, 26, 29, 30, 31
  - [ ] **37.1 P2.1：编写 MVP 使用说明**  
    说明：记录如何启动 docktui、如何查看容器列表、如何查看日志和进入 shell、如何操作容器（启动/停止/删除）、如何操作 docker-compose 项目。  
    依赖：37
  - [ ] **37.2 P2.2：记录已支持与未支持功能**  
    说明：列出当前 MVP 支持的功能（本地 Docker + docker-compose + 容器操作）和未来计划的功能，作为 roadmap 基础。  
    依赖：37

- [ ] **38 P3：预发布版本验证**  
  说明：在真实的本地开发环境中验证 MVP 的可用性。  
  依赖：36, 37, 33, 34, 35
  - [ ] **38.1 P3.1：完整走一遍核心用例**  
    说明：从启动工具到查看容器列表、详情、日志、进入 shell、操作容器（启动/停止/删除）、管理 docker-compose 项目全流程跑通。  
    依赖：38
  - [ ] **38.2 P3.2：记录反馈并更新计划**  
    说明：记录使用过程中的痛点与改进建议，回写到 PRD 或任务清单中，为下一轮迭代做准备。  
    依赖：38

---

### 阶段 K：docker-compose 支持（C 系列）

> **注意**: 首页已重构为导航中心，预留了 Compose 项目入口 `[p]`，待实现后启用。

#### 功能设计建议

**核心功能优先级**:
1. **P0 (必须)**: 项目扫描、列表展示、基本操作（up/down/restart）、容器关联
2. **P1 (重要)**: 项目详情、服务状态、日志查看、错误处理
3. **P2 (可选)**: 开发模式、环境重置、配置管理、多文件支持

**用户体验设计**:
- 采用与容器列表类似的 vim 风格导航
- 使用颜色区分项目状态（运行中=绿色，部分运行=黄色，停止=灰色）
- 支持快速操作（单键启动/停止，无需确认对话框）
- 提供项目→容器的双向跳转能力

**技术实现要点**:
- 优先使用 `docker compose`（Docker CLI v2），回退到 `docker-compose`（独立工具）
- 通过容器 label `com.docker.compose.project` 识别项目归属
- 支持多 compose 文件（docker-compose.yml + docker-compose.override.yml）
- 异步执行长时间操作（up/down），避免阻塞 UI

---

- [✓] **36 C1：docker-compose 支持策略设计**  
  说明：明确本项目如何与 docker-compose 集成（命令行工具选择、参数约定、错误处理方式）。  
  依赖：2.3
  - [✓] **36.1 C1.1：检测本机 docker CLI 支持方式**  
    说明：实现检测逻辑，判断当前环境支持 `docker compose` 还是 `docker-compose`，并在配置中记录优先使用的命令。优先级顺序：`docker compose` > `docker-compose` > 报错提示安装。  
    **实现细节**:
    - 使用 `exec.LookPath("docker")` 检测 docker 命令
    - 执行 `docker compose version` 测试 compose 插件
    - 如果失败，尝试 `docker-compose --version`
    - 缓存检测结果到配置中，避免重复检测
    依赖：36
  - [✓] **36.2 C1.2：定义统一的 Compose 命令封装接口**  
    说明：在 `internal/compose` 包中定义接口（如 `ComposeClient`），内部通过 `os/exec` 调用 CLI，并统一处理 stdout/stderr/退出码。  
    **接口设计**:
    ```go
    type ComposeClient interface {
        // 项目操作
        Up(ctx context.Context, project *Project, opts UpOptions) error
        Down(ctx context.Context, project *Project, opts DownOptions) error
        Restart(ctx context.Context, project *Project, services []string) error
        Stop(ctx context.Context, project *Project, services []string) error
        Start(ctx context.Context, project *Project, services []string) error
        
        // 信息查询
        PS(ctx context.Context, project *Project) ([]Service, error)
        Logs(ctx context.Context, project *Project, opts LogOptions) (io.ReadCloser, error)
        Config(ctx context.Context, project *Project) (*ProjectConfig, error)
        
        // 工具方法
        Version(ctx context.Context) (string, error)
    }
    ```
    依赖：36

- [✓] **37 C2：Compose 项目与配置模型**  
  说明：为 docker-compose 项目定义基础数据模型，并与配置模块关联。  
  依赖：6, 36
  - [✓] **37.1 C2.1：定义 ComposeProject 结构体**  
    说明：包含项目名称、路径、compose 文件列表、可选 env 文件、标签等字段，作为 UI 和命令调用的统一输入。  
    **数据结构设计**:
    ```go
    type Project struct {
        Name          string            // 项目名称（从目录名或 compose 文件推断）
        Path          string            // 项目根目录绝对路径
        ComposeFiles  []string          // compose 文件列表（相对路径）
        EnvFiles      []string          // 环境变量文件列表
        WorkingDir    string            // 工作目录
        Labels        map[string]string // 项目标签
        
        // 运行时状态
        Services      []Service         // 服务列表（从 ps 获取）
        Status        ProjectStatus     // 项目状态（Running/PartialRunning/Stopped）
        LastUpdated   time.Time         // 最后更新时间
    }
    
    type Service struct {
        Name       string
        State      string  // running/exited/restarting
        Containers []string // 容器 ID 列表
    }
    
    type ProjectStatus int
    const (
        StatusUnknown ProjectStatus = iota
        StatusRunning      // 所有服务运行中
        StatusPartial      // 部分服务运行中
        StatusStopped      // 所有服务已停止
        StatusError        // 错误状态
    )
    ```
    依赖：37
  - [✓] **37.2 C2.2：在配置中预留 compose 相关字段**  
    说明：在配置 struct 中增加 compose 相关配置（如扫描路径、忽略规则、默认 env 文件、命令超时），与现有配置加载逻辑集成。  
    **配置字段**:
    ```go
    type ComposeConfig struct {
        ScanPaths      []string          // 扫描路径（默认当前目录）
        IgnorePatterns []string          // 忽略模式（如 node_modules, .git）
        MaxDepth       int               // 最大扫描深度（默认 5）
        DefaultEnvFile string            // 默认环境变量文件
        CommandTimeout time.Duration     // 命令超时（默认 60s）
        AutoRefresh    bool              // 是否自动刷新（默认 false）
    }
    ```
    依赖：37

- [✓] **38 C3：Compose 项目扫描**  
  说明：实现文件系统扫描，自动发现 docker-compose 项目。  
  依赖：37
  - [✓] **38.1 C3.1：实现 compose 文件扫描逻辑**  
    说明：从配置的扫描路径递归扫描 compose 文件，支持多种命名模式。  
    **扫描规则**:
    - 文件名模式：`docker-compose.yml`, `docker-compose.yaml`, `compose.yml`, `compose.yaml`
    - 支持多文件：`docker-compose.override.yml`, `docker-compose.*.yml`
    - 项目识别：同一目录下的 compose 文件归为一个项目
    - 项目名称：优先使用 compose 文件中的 `name` 字段，否则使用目录名
    **实现要点**:
    - 使用 `filepath.Walk` 递归遍历
    - 尊重 `.dockerignore` 和配置的忽略规则
    - 限制扫描深度，避免扫描过深
    - 异步扫描，避免阻塞 UI
    依赖：38
  - [✓] **38.2 C3.2：实现扫描结果去重与忽略规则**  
    说明：根据配置中的忽略路径、隐藏规则，对扫描得到的项目进行过滤与去重。  
    **过滤规则**:
    - 忽略隐藏目录（以 `.` 开头）
    - 忽略常见依赖目录：`node_modules`, `vendor`, `.git`, `__pycache__`
    - 支持自定义 glob 模式：`**/test/**`, `**/tmp/**`
    - 去重：同一目录只保留一个项目
    依赖：38
  - [✓] **38.3 C3.3：提供刷新扫描的公共 API**  
    说明：封装函数供 UI 调用，以在运行时重新扫描 compose 项目列表。  
    **API 设计**:
    ```go
    type Scanner interface {
        // 扫描项目
        Scan(ctx context.Context, paths []string) ([]Project, error)
        
        // 刷新单个项目状态
        RefreshProject(ctx context.Context, project *Project) error
        
        // 监听文件变化（可选）
        Watch(ctx context.Context, paths []string) (<-chan ScanEvent, error)
    }
    ```
    依赖：38

- [✓] **39 C4：Compose 项目操作 API**  
  说明：基于 CLI 封装项目级操作（up/down/restart/logs 等）。  
  依赖：36, 38
  - [✓] **39.1 C4.1：实现 ProjectUp 调用**  
    说明：封装 `docker compose up -d`，支持传入项目路径和额外参数，返回标准化结果。  
    **功能要求**:
    - 支持后台启动（-d）和前台启动
    - 支持指定服务列表（只启动部分服务）
    - 支持强制重建（--build, --force-recreate）
    - 支持拉取最新镜像（--pull always）
    - 返回操作结果和输出日志
    **错误处理**:
    - 镜像不存在 → 提示拉取或构建
    - 端口冲突 → 显示冲突端口和占用容器
    - 网络错误 → 显示详细网络信息
    - 配置错误 → 显示 compose 文件验证错误
    依赖：39
  - [ ] **39.2 C4.2：实现 ProjectDown/Restart/Stop/Start 调用**  
    说明：封装常用操作，确保可被 UI 方便调用，并处理常见错误。  
    **操作列表**:
    - `Down`: 停止并删除容器、网络（可选删除卷）
    - `Restart`: 重启服务（支持指定服务）
    - `Stop`: 停止服务但不删除容器
    - `Start`: 启动已存在的容器
    - `Pause/Unpause`: 暂停/恢复服务
    - `Pull`: 拉取服务镜像
    - `Build`: 构建服务镜像
    **参数设计**:
    ```go
    type UpOptions struct {
        Detach       bool     // 后台运行
        Build        bool     // 构建镜像
        ForceRecreate bool    // 强制重建
        Services     []string // 指定服务
        Timeout      int      // 超时时间（秒）
    }
    
    type DownOptions struct {
        RemoveVolumes  bool   // 删除卷
        RemoveOrphans  bool   // 删除孤立容器
        Timeout        int    // 超时时间
    }
    ```
    依赖：39
  - [ ] **39.3 C4.3：实现 Logs 和 PS 查询**  
    说明：实现日志查看和服务状态查询功能。  
    **Logs 功能**:
    - 支持 follow 模式（实时跟踪）
    - 支持指定服务（查看单个服务日志）
    - 支持时间戳显示
    - 支持行数限制（--tail）
    - 返回 io.ReadCloser 供 UI 读取
    **PS 功能**:
    - 查询项目所有服务状态
    - 返回服务名称、状态、容器数量
    - 支持过滤（只看运行中的服务）
    依赖：39
  - [ ] **39.4 C4.4：定义操作结果与错误结构**  
    说明：为 compose 操作定义统一的结果和错误类型，方便 UI 展示。  
    **结构设计**:
    ```go
    type OperationResult struct {
        Success    bool
        Message    string
        Output     string   // stdout 输出
        Error      string   // stderr 输出
        ExitCode   int
        Duration   time.Duration
    }
    
    type ComposeError struct {
        Type       ErrorType  // ConfigError/NetworkError/ImageError/RuntimeError
        Message    string
        Details    string
        Suggestion string     // 解决建议
    }
    
    type ErrorType int
    const (
        ErrorUnknown ErrorType = iota
        ErrorConfig        // compose 文件配置错误
        ErrorNetwork       // 网络错误（端口冲突等）
        ErrorImage         // 镜像相关错误
        ErrorRuntime       // 运行时错误
        ErrorPermission    // 权限错误
    )
    ```
    依赖：39

- [ ] **40 C5：Compose 项目视图（列表）**  
  说明：在 TUI 中提供 docker-compose 项目的列表视图。  
  依赖：15, 38, 39
  - [ ] **40.1 C5.1：定义 ComposeProjectListModel**  
    说明：在 UI 层定义保存 compose 项目列表、选中索引、加载状态、错误信息的 model。  
    **Model 结构**:
    ```go
    type ComposeListView struct {
        composeClient compose.Client
        scanner       compose.Scanner
        
        width  int
        height int
        
        // 数据状态
        projects         []compose.Project
        filteredProjects []compose.Project
        tableModel       table.Model
        loading          bool
        errorMsg         string
        successMsg       string
        
        // 搜索状态
        searchQuery string
        isSearching bool
        
        // 操作状态
        operatingProject *compose.Project  // 正在操作的项目
        operationType    string            // up/down/restart
        
        keys KeyMap
    }
    ```
    依赖：40
  - [ ] **40.2 C5.2：实现列表布局与快捷键**  
    说明：实现项目列表渲染，支持 vim 风格导航和快捷操作。  
    **列表列定义**:
    - PROJECT NAME（项目名称）
    - PATH（项目路径，截断显示）
    - SERVICES（服务数量，如 "3/5" 表示 3 个运行中，共 5 个）
    - STATUS（项目状态：Running/Partial/Stopped）
    - COMPOSE FILES（compose 文件数量）
    **快捷键设计**:
    - `j/k/↑/↓`: 上下移动
    - `Enter`: 查看项目详情
    - `u`: 启动项目（docker compose up -d）
    - `d`: 停止项目（docker compose down）
    - `r`: 重启项目（docker compose restart）
    - `s`: 停止但不删除（docker compose stop）
    - `t`: 启动已停止的容器（docker compose start）
    - `l`: 查看项目日志
    - `c`: 跳转到项目容器列表
    - `b`: 构建镜像（docker compose build）
    - `p`: 拉取镜像（docker compose pull）
    - `R`: 刷新列表（重新扫描）
    - `/`: 搜索项目
    - `Esc/b`: 返回主页
    - `q`: 退出程序
    **状态栏设计**:
    - 第一行：Docker Compose 版本 + 基本操作（刷新、搜索）
    - 第二行：项目操作（启动、停止、重启）
    - 第三行：高级操作（构建、拉取、日志、容器）
    - 第四行：导航提示（vim 风格）
    依赖：40
  - [ ] **40.3 C5.3：实现项目状态刷新机制**  
    说明：定期或手动刷新项目状态，更新服务运行情况。  
    **刷新策略**:
    - 手动刷新：按 `R` 键重新扫描项目
    - 自动刷新：可选，每 10 秒刷新一次状态（不重新扫描文件）
    - 操作后刷新：执行 up/down 等操作后自动刷新
    **状态更新**:
    - 调用 `compose ps` 获取服务状态
    - 更新项目的 Services 和 Status 字段
    - 使用颜色标识状态变化
    依赖：40
  - [ ] **40.4 C5.4：在主 Model 中集成 Compose 视图**  
    说明：在主视图管理中加入 compose 视图，并提供入口。  
    **集成要点**:
    - 在欢迎页面添加 `p` 键进入 Compose 项目列表
    - 在全局快捷键中添加 `p` 切换到 Compose 视图
    - 支持从 Compose 视图返回欢迎页面
    - 支持从 Compose 视图跳转到容器列表
    依赖：40, 15

- [ ] **41 C6：Compose 与容器视图联动**  
  说明：实现从 compose 项目跳转到对应容器列表，以及容器视图按项目过滤。  
  依赖：9, 18, 38
  - [ ] **41.1 C6.1：实现按 Compose 项目过滤容器列表**  
    说明：基于容器名称或 label 规则，从 Docker 容器列表中筛选出属于某个 compose 项目的容器。  
    依赖：41
  - [ ] **41.2 C6.2：在 Compose 视图中添加跳转容器列表的快捷键**  
    说明：在 Compose 项目视图中添加快捷键（如 `c`），跳转到仅显示该项目容器的容器列表视图。  
    依赖：41

- [ ] **42 C7：本地开发友好能力与环境重置**  
  说明：为本地开发场景提供“开发模式配置”和“一键本地环境重置”。  
  依赖：37, 39, 9, 32
  - [ ] **42.1 C7.1：设计开发模式配置结构**  
    说明：定义可选字段（如附加 env 文件、额外 volume 映射、调试标志），并将其挂在 ComposeProject 或配置中。  
    依赖：42
  - [ ] **42.2 C7.2：实现带开发模式的 ProjectUp 逻辑**  
    说明：在调用 ProjectUp 时，根据开发模式配置拼接额外参数或 env，便于本地调试。  
    依赖：42
  - [ ] **42.3 C7.3：实现“一键本地环境重置”操作**  
    说明：封装停止容器、删除相关容器/网络/volume 并重新 `up` 的组合操作，与日志/错误展示机制集成。  
    依赖：42

- [ ] **41 C6：Compose 项目详情视图**  
  说明：提供单个项目的详细信息展示，包括服务列表、配置信息等。  
  依赖：40, 39
  - [ ] **41.1 C6.1：定义项目详情 Model**  
    说明：创建详情视图的数据模型，支持标签页切换。  
    **标签页设计**:
    - 服务列表（Services）：显示所有服务及其状态
    - 配置信息（Config）：显示 compose 文件内容（格式化）
    - 网络（Networks）：显示项目创建的网络
    - 卷（Volumes）：显示项目创建的卷
    - 环境变量（Environment）：显示项目级环境变量
    依赖：41
  - [ ] **41.2 C6.2：实现服务列表标签页**  
    说明：展示项目中所有服务的详细状态。  
    **显示内容**:
    - 服务名称
    - 镜像名称
    - 状态（Running/Exited/Restarting）
    - 容器数量（副本数）
    - 端口映射
    **快捷键**:
    - `Enter`: 跳转到服务的容器
    - `l`: 查看服务日志
    - `r`: 重启服务
    - `s`: 停止服务
    - `t`: 启动服务
    依赖：41
  - [ ] **41.3 C6.3：实现配置信息标签页**  
    说明：显示 compose 文件的内容，支持语法高亮。  
    **功能要求**:
    - 显示所有 compose 文件（主文件 + override 文件）
    - YAML 语法高亮（使用 lipgloss）
    - 支持滚动查看
    - 显示文件路径
    依赖：41

- [ ] **42 C7：Compose 与容器视图联动**  
  说明：实现从 compose 项目跳转到对应容器列表，以及容器视图按项目过滤。  
  依赖：9, 18, 38
  - [ ] **42.1 C7.1：实现按 Compose 项目过滤容器列表**  
    说明：基于容器 label 规则，从 Docker 容器列表中筛选出属于某个 compose 项目的容器。  
    **过滤逻辑**:
    - 检查容器 label `com.docker.compose.project`
    - 匹配项目名称（不区分大小写）
    - 支持显示项目名称在容器列表标题栏
    - 支持清除过滤返回完整列表
    依赖：42
  - [ ] **42.2 C7.2：在 Compose 视图中添加跳转容器列表的快捷键**  
    说明：在 Compose 项目列表和详情视图中添加快捷键（`c`），跳转到仅显示该项目容器的容器列表视图。  
    **跳转流程**:
    1. 用户在项目列表按 `c`
    2. 切换到容器列表视图
    3. 自动应用项目过滤
    4. 显示过滤提示（如 "Showing containers for project: myapp"）
    5. 支持按 `Esc` 清除过滤返回完整列表
    依赖：42
  - [ ] **42.3 C7.3：在容器详情中显示所属项目**  
    说明：如果容器属于某个 compose 项目，在详情视图中显示项目信息。  
    **显示内容**:
    - 项目名称（可点击跳转到项目列表）
    - 服务名称
    - 项目路径
    - 在基本信息标签页中添加 "Compose Project" 字段
    依赖：42

- [ ] **43 C8：Compose 日志视图**  
  说明：实现 compose 项目和服务的日志查看功能。  
  依赖：39, 26
  - [ ] **43.1 C8.1：实现项目级日志查看**  
    说明：查看项目所有服务的聚合日志。  
    **功能要求**:
    - 显示所有服务的日志（带服务名前缀）
    - 支持 follow 模式
    - 支持按服务名过滤
    - 支持颜色区分不同服务
    - 复用现有日志视图组件
    依赖：43
  - [ ] **43.2 C8.2：实现服务级日志查看**  
    说明：查看单个服务的日志。  
    **功能要求**:
    - 从服务列表或详情页进入
    - 显示服务名称和容器数量
    - 如果服务有多个副本，聚合显示
    - 支持切换到单个容器日志
    依赖：43

- [ ] **44 C9：本地开发友好能力**  
  说明：为本地开发场景提供便捷功能。  
  依赖：37, 39, 9, 32
  - [ ] **44.1 C9.1：实现环境重置功能**  
    说明：一键停止并清理项目环境，然后重新启动。  
    **操作流程**:
    1. 停止所有容器（docker compose down）
    2. 可选：删除卷（--volumes）
    3. 可选：删除镜像（--rmi all）
    4. 重新启动（docker compose up -d）
    **快捷键**: `Ctrl+R` 在项目列表或详情页触发
    **确认对话框**: 显示将要删除的资源，需要用户确认
    依赖：44
  - [ ] **44.2 C9.2：实现快速重建功能**  
    说明：重新构建镜像并启动服务。  
    **操作流程**:
    1. 构建镜像（docker compose build）
    2. 重新创建容器（docker compose up -d --force-recreate）
    **快捷键**: `Ctrl+B` 在项目列表或详情页触发
    **进度显示**: 显示构建进度和输出
    依赖：44
  - [ ] **44.3 C9.3：实现开发模式配置**  
    说明：支持为项目配置开发模式参数。  
    **配置内容**:
    - 额外的 compose 文件（如 docker-compose.dev.yml）
    - 额外的环境变量文件
    - 自动挂载代码目录
    - 启用热重载
    **配置方式**: 在项目目录创建 `.docktui.yml` 配置文件
    依赖：44

- [ ] **45 C10：错误处理与用户体验优化**  
  说明：完善 compose 功能的错误处理和用户体验。  
  依赖：39, 40
  - [ ] **45.1 C10.1：实现友好的错误提示**  
    说明：针对常见错误提供清晰的提示和解决建议。  
    **错误场景**:
    - Compose 文件语法错误 → 显示错误行号和内容
    - 端口冲突 → 显示冲突端口和占用进程
    - 镜像不存在 → 提示拉取或构建
    - 网络冲突 → 显示冲突网络信息
    - 权限不足 → 提示需要的权限
    依赖：45
  - [ ] **45.2 C10.2：实现操作进度显示**  
    说明：对于耗时操作，显示进度和状态。  
    **进度显示**:
    - 启动项目：显示正在启动的服务
    - 构建镜像：显示构建步骤和进度
    - 拉取镜像：显示下载进度
    - 停止项目：显示正在停止的服务
    **实现方式**: 使用 spinner 或进度条组件
    依赖：45
  - [ ] **45.3 C10.3：实现操作历史记录**  
    说明：记录用户对项目的操作历史。  
    **记录内容**:
    - 操作类型（up/down/restart）
    - 操作时间
    - 操作结果（成功/失败）
    - 错误信息（如果失败）
    **展示方式**: 在项目详情页添加 "History" 标签页
    依赖：45

---

### 阶段 K 总结

**实现顺序建议**:
1. **第一阶段（基础）**: C1 → C2 → C3 → C4（核心 API）
2. **第二阶段（UI）**: C5（项目列表）→ C6（项目详情）
3. **第三阶段（集成）**: C7（容器联动）→ C8（日志）
4. **第四阶段（优化）**: C9（开发功能）→ C10（体验优化）

**预计工作量**:
- 基础 API 层：3-5 天
- UI 视图层：5-7 天
- 集成与优化：3-5 天
- 总计：11-17 天

**技术难点**:
1. Compose 文件解析和验证
2. 多服务日志聚合和颜色区分
3. 长时间操作的进度反馈
4. 容器与项目的双向关联

**测试建议**:
- 准备多个测试项目（单服务、多服务、带网络、带卷）
- 测试各种错误场景（端口冲突、镜像缺失、配置错误）
- 测试性能（大量项目扫描、频繁刷新）
- 测试跨平台兼容性（Windows/Linux/macOS）


---

### 阶段 L：Docker Images 功能（I 系列）

> **功能概述**: 实现 Docker 镜像管理功能，包括镜像列表、详情查看、删除、清理、打标签、导出/加载、拉取/推送等核心操作。

- [✓] **46 I1：Docker 客户端镜像 API 实现**  
  说明：在 Docker 客户端层实现镜像管理的所有 API 方法。  
  依赖：8
  - [✓] **46.1 I1.1：实现 ListImages 方法**  
    说明：调用 Docker SDK 获取镜像列表，转换为内部 Image 结构，包含 ID、仓库、标签、大小、创建时间、使用状态等。  
    依赖：46
  - [✓] **46.2 I1.2：实现 ImageDetails 方法**  
    说明：获取镜像详细信息，包括层信息、环境变量、暴露端口、卷、使用此镜像的容器列表等。  
    依赖：46
  - [✓] **46.3 I1.3：实现镜像操作方法**  
    说明：实现 RemoveImage、PruneImages、TagImage、UntagImage、SaveImage、LoadImage、PullImage、PushImage 等方法。  
    依赖：46

- [✓] **47 I2：镜像列表视图基础框架**  
  说明：创建镜像列表视图的基础结构和 UI 布局。  
  依赖：15, 46
  - [✓] **47.1 I2.1：定义 ImageListView 结构**  
    说明：创建镜像列表视图的数据模型，包含镜像列表、过滤状态、搜索状态、加载状态等。  
    依赖：47
  - [✓] **47.2 I2.2：实现基础 UI 布局**  
    说明：实现状态栏、统计信息栏、表格、搜索栏等 UI 组件，使用可滚动表格支持水平滚动。  
    依赖：47
  - [✓] **47.3 I2.3：集成到主视图管理**  
    说明：在主 Model 中添加镜像列表视图，实现视图切换逻辑（容器列表 ↔ 镜像列表）。  
    依赖：47

- [✓] **48 I3：镜像列表数据加载与显示**  
  说明：实现镜像数据的加载、过滤、排序和显示。  
  依赖：47, 46
  - [✓] **48.1 I3.1：实现 loadImages 函数**  
    说明：调用 Docker 客户端 API 加载镜像列表，处理加载成功和失败的消息。  
    依赖：48
  - [✓] **48.2 I3.2：实现 applyFilters 函数**  
    说明：根据搜索关键字和过滤类型（all/active/dangling/unused）过滤镜像列表。  
    依赖：48
  - [✓] **48.3 I3.3：实现 imagesToRows 函数**  
    说明：将镜像数据转换为表格行，根据镜像状态应用不同颜色样式（活跃=绿色，悬垂=灰色，未使用=灰色）。  
    依赖：48
  - [✓] **48.4 I3.4：实现列宽自适应**  
    说明：根据实际数据内容动态计算列宽，确保在不同窗口大小下都能正常显示。  
    依赖：48

- [✓] **49 I4：镜像列表交互功能**  
  说明：实现镜像列表的导航、搜索、刷新等交互功能。  
  依赖：48
  - [✓] **49.1 I4.1：实现 vim 风格导航**  
    说明：支持 j/k 上下移动，h/l 左右滚动，g/G 跳转到顶部/底部。  
    依赖：49
  - [✓] **49.2 I4.2：实现搜索功能**  
    说明：按 `/` 进入搜索模式，支持按仓库名、标签、ID 搜索，实时过滤结果。  
    依赖：49
  - [✓] **49.3 I4.3：实现刷新功能**  
    说明：按 `r` 手动刷新镜像列表，显示加载状态和刷新时间。  
    依赖：49

- [✓] **50 I5：镜像操作功能**  
  说明：实现镜像的删除、清理、打标签等操作。  
  依赖：48, 46
  - [✓] **50.1 I5.1：实现删除镜像功能**  
    说明：按 `d` 删除选中镜像，显示确认对话框，支持强制删除（如果被容器使用）。  
    依赖：50
  - [✓] **50.2 I5.2：实现清理悬垂镜像功能**  
    说明：按 `p` 清理所有悬垂镜像，显示清理结果（删除数量和释放空间）。  
    依赖：50
  - [ ] **50.3 I5.3：实现打标签功能**  
    说明：按 `t` 为选中镜像打标签，弹出输入框输入仓库名和标签。  
    依赖：50
  - [ ] **50.4 I5.4：实现取消标签功能**  
    说明：按 `u` 删除选中镜像的标签（如果有多个标签）。  
    依赖：50

- [ ] **51 I6：镜像导入导出功能**  
  说明：实现镜像的导出到文件和从文件加载。  
  依赖：48, 46
  - [ ] **51.1 I6.1：实现导出镜像功能**  
    说明：按 `e` 导出选中镜像到 tar 文件，弹出输入框输入保存路径，显示导出进度。  
    依赖：51
  - [ ] **51.2 I6.2：实现加载镜像功能**  
    说明：按 `l` 从 tar 文件加载镜像，弹出输入框输入文件路径，显示加载进度。  
    依赖：51

- [ ] **52 I7：镜像拉取推送功能**  
  说明：实现镜像的拉取和推送到 registry。  
  依赖：48, 46
  - [ ] **52.1 I7.1：实现拉取镜像功能**  
    说明：按 `P` 拉取镜像，弹出输入框输入镜像引用（如 nginx:latest），显示拉取进度。  
    依赖：52
  - [ ] **52.2 I7.2：实现推送镜像功能**  
    说明：按 `Shift+P` 推送选中镜像到 registry，显示推送进度。  
    依赖：52

- [✓] **53 I8：镜像详情视图**  
  说明：实现镜像详细信息的查看。  
  依赖：48, 46
  - [✓] **53.1 I8.1：创建镜像详情视图**  
    说明：按 `Enter` 或 `i` 查看选中镜像的详细信息，包括层信息、环境变量、暴露端口、使用容器等。  
    依赖：53
  - [✓] **53.2 I8.2：实现详情视图布局**  
    说明：使用 Tab 切换 6 个标签页：基本信息、使用状态、配置信息、环境变量、层信息、标签信息。  
    依赖：53
  - [ ] **53.3 I8.3：实现从详情跳转到容器**  
    说明：在使用容器列表中按 `Enter` 跳转到对应容器的详情视图。  
    依赖：53

- [ ] **54 I9：镜像与容器视图联动**  
  说明：实现镜像列表与容器列表之间的跳转和过滤。  
  依赖：48, 18
  - [ ] **54.1 I9.1：实现视图切换**  
    说明：在容器列表按 `i` 切换到镜像列表，在镜像列表按 `c` 切换回容器列表。  
    依赖：54
  - [ ] **54.2 I9.2：实现按镜像过滤容器**  
    说明：在镜像列表按 `c` 跳转到容器列表时，自动过滤显示使用该镜像的容器。  
    依赖：54
